<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>vegra: include/vegra.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>include/vegra.h</h1><a href="vegra_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00020"></a>00020 <span class="preprocessor">#ifndef __VEGRA_H__</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define __VEGRA_H__</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;type_traits&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;memory&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;iomanip&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="constants_8h.html">constants.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="exception_8h.html">exception.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="attrib_8h.html">attrib.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="elements_8h.html">elements.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="rect_8h.html">rect.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="circle_8h.html">circle.h</a>&quot;</span>
<a name="l00037"></a>00037 
<a name="l00043"></a>00043 <span class="keyword">namespace </span>vegra {
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="keyword">using</span> SVGElementList = std::vector&lt;vegra::SVGElement *&gt;;
<a name="l00046"></a>00046  
<a name="l00052"></a><a class="code" href="structvegra_1_1SVG.html">00052</a> <span class="keyword">struct </span><a class="code" href="structvegra_1_1SVG.html">SVG</a> : <a class="code" href="structvegra_1_1SVGElement.html" title="SVGElement - Parent class for all svg elements.">SVGElement</a> {
<a name="l00053"></a>00053  <span class="keyword">public</span>:
<a name="l00054"></a><a class="code" href="structvegra_1_1SVG.html#a3fd44691284da36fbf659b230e870950">00054</a>   <a class="code" href="structvegra_1_1SVG.html#a3fd44691284da36fbf659b230e870950">SVG</a>() : _tagname(<span class="stringliteral">&quot;svg&quot;</span>)
<a name="l00055"></a>00055   {
<a name="l00056"></a>00056     _title = _tagname; 
<a name="l00057"></a>00057   }
<a name="l00058"></a>00058   
<a name="l00064"></a>00064   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structvegra_1_1SVG.html#a018d3d664341f68deff0a170885bac05">add</a>();
<a name="l00073"></a><a class="code" href="structvegra_1_1SVG.html#a7d1da466cecd8260ae1e9514b15a2ec0">00073</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structvegra_1_1SVG.html#a018d3d664341f68deff0a170885bac05">add</a>(<a class="code" href="structvegra_1_1SVGElement.html" title="SVGElement - Parent class for all svg elements.">vegra::SVGElement</a> * element) 
<a name="l00074"></a>00074   { 
<a name="l00075"></a>00075     element-&gt;<a class="code" href="structvegra_1_1SVGElement.html#a1369400ebe57287f1b5beb5f0234d8d7">wrapElement</a>();
<a name="l00076"></a>00076     _elements.push_back(element);  
<a name="l00077"></a>00077   }
<a name="l00088"></a>00088   <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;
<a name="l00089"></a><a class="code" href="structvegra_1_1SVG.html#af54ce9ebb9865f5c6d42570b048f9cf8">00089</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structvegra_1_1SVG.html#a018d3d664341f68deff0a170885bac05">add</a>(<a class="code" href="structvegra_1_1SVGElement.html" title="SVGElement - Parent class for all svg elements.">vegra::SVGElement</a>* element, Args... args)
<a name="l00090"></a>00090   {
<a name="l00091"></a>00091     element-&gt;<a class="code" href="structvegra_1_1SVGElement.html#a1369400ebe57287f1b5beb5f0234d8d7">wrapElement</a>();
<a name="l00092"></a>00092     _elements.push_back(element);
<a name="l00093"></a>00093     <a class="code" href="structvegra_1_1SVG.html#a018d3d664341f68deff0a170885bac05">add</a>(args...);
<a name="l00094"></a>00094   }
<a name="l00095"></a>00095 
<a name="l00101"></a><a class="code" href="structvegra_1_1SVG.html#aa24a923e5c6195e143623e141ada168b">00101</a>   <span class="keyword">inline</span> std::string <a class="code" href="structvegra_1_1SVG.html#aa24a923e5c6195e143623e141ada168b">composeElement</a>()
<a name="l00102"></a>00102   {
<a name="l00103"></a>00103      <span class="keyword">using namespace </span>vegra;
<a name="l00104"></a>00104      <span class="keywordflow">return</span> _tagname +
<a name="l00105"></a>00105             <a class="code" href="namespacevegra.html#a4893502d3540c9e206e49072ffaa4316">ASSIGN</a>(<a class="code" href="namespacevegra_1_1attr.html#a381876de77425abfb3621bf6f1988ada" title="SIZE.">attr::height</a>, <a class="code" href="namespacevegra.html#ac0412cf8d762772ec0857239d5d47eb3" title="convert all non string values to string type">STR</a>(_size.<a class="code" href="structvegra_1_1Size.html#ab88c99e72a1579a2ac00f10133c5f23d">height</a>)) +
<a name="l00106"></a>00106             <a class="code" href="namespacevegra.html#a4893502d3540c9e206e49072ffaa4316">ASSIGN</a>(<a class="code" href="namespacevegra_1_1attr.html#ad16d3f19ee0c2bc1624c97839c99dad6">attr::width</a>, <a class="code" href="namespacevegra.html#ac0412cf8d762772ec0857239d5d47eb3" title="convert all non string values to string type">STR</a>(_size.<a class="code" href="structvegra_1_1Size.html#ae71295e2c36b57cb0a71e4c4974ec753">width</a>)) +
<a name="l00107"></a>00107             <a class="code" href="namespacevegra.html#a4893502d3540c9e206e49072ffaa4316">ASSIGN</a>(<a class="code" href="namespacevegra_1_1attr.html#aad742b5d9766de5e8de120f9ec2d606c">attr::x</a>, <a class="code" href="namespacevegra.html#ac0412cf8d762772ec0857239d5d47eb3" title="convert all non string values to string type">STR</a>(_pos.<a class="code" href="structvegra_1_1Position.html#a458595c84391b5ae3bdc0c8d256706b6">x</a>)) +
<a name="l00108"></a>00108             <a class="code" href="namespacevegra.html#a4893502d3540c9e206e49072ffaa4316">ASSIGN</a>(<a class="code" href="namespacevegra_1_1attr.html#aa7b0fe91ac9ac2d7ef82a96fbc045cef">attr::y</a>, <a class="code" href="namespacevegra.html#ac0412cf8d762772ec0857239d5d47eb3" title="convert all non string values to string type">STR</a>(_pos.<a class="code" href="structvegra_1_1Position.html#a2e90d89fd65b914fe6b6157c2d20d90c">y</a>));
<a name="l00109"></a>00109   }
<a name="l00110"></a>00110   
<a name="l00117"></a><a class="code" href="structvegra_1_1SVG.html#ae7192d00544cf372f5dfed2b2436c973">00117</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structvegra_1_1SVG.html#ae7192d00544cf372f5dfed2b2436c973">wrapElement</a>()
<a name="l00118"></a>00118   {
<a name="l00119"></a>00119    <span class="keyword">using namespace </span>vegra;
<a name="l00120"></a>00120    <span class="keywordflow">if</span> (_elements.empty())
<a name="l00121"></a>00121      _element = <a class="code" href="namespacevegra.html#ad53777752123522d1807f483fa01c0a5" title="TODO(raghu): Change to std::quoted if compiler is c++14 compliant.">WRAP</a>(<a class="code" href="structvegra_1_1SVG.html#aa24a923e5c6195e143623e141ada168b">composeElement</a>());
<a name="l00122"></a>00122    <span class="keywordflow">else</span> 
<a name="l00123"></a>00123      _element = <a class="code" href="namespacevegra.html#a46b18aa974bf220f63e7d00163eb549a" title="Wrap element with opening and closing tag, only with attributes.">MULTI_WRAP</a>(_tagname, <a class="code" href="structvegra_1_1SVG.html#aa24a923e5c6195e143623e141ada168b">composeElement</a>(), <a class="code" href="structvegra_1_1SVG.html#a6096892ee39e3680fddd6657a98b7a75">getElements</a>());
<a name="l00124"></a>00124   }
<a name="l00125"></a>00125 
<a name="l00131"></a><a class="code" href="structvegra_1_1SVG.html#a185b8b4ad59002b8fc921a288f69f9d9">00131</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structvegra_1_1SVG.html#a185b8b4ad59002b8fc921a288f69f9d9">checkIfSVGExists</a>()
<a name="l00132"></a>00132   {
<a name="l00133"></a>00133     _fname = _title + <a class="code" href="namespacevegra.html#a85bf5beb5ac2df54e14ee7cd075c17e7">EXTENSION</a>;
<a name="l00134"></a>00134     std::ifstream svgFile(_fname);
<a name="l00135"></a>00135     <span class="keywordflow">return</span> svgFile.good();
<a name="l00136"></a>00136   }
<a name="l00137"></a>00137 
<a name="l00143"></a><a class="code" href="structvegra_1_1SVG.html#a739917fb674392c8a92ce56c609daf9c">00143</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structvegra_1_1SVG.html#a739917fb674392c8a92ce56c609daf9c">saveSVG</a>()
<a name="l00144"></a>00144   {
<a name="l00145"></a>00145     std::ofstream svgFile(_fname);
<a name="l00146"></a>00146     <a class="code" href="structvegra_1_1SVG.html#ae7192d00544cf372f5dfed2b2436c973">wrapElement</a>();
<a name="l00147"></a>00147     svgFile &lt;&lt; _element;
<a name="l00148"></a>00148     svgFile.close();
<a name="l00149"></a>00149   }
<a name="l00150"></a>00150   
<a name="l00160"></a><a class="code" href="structvegra_1_1SVG.html#a02f78ba059b1ce0e659ee368fb6a782a">00160</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structvegra_1_1SVG.html#a02f78ba059b1ce0e659ee368fb6a782a">createNewTitle</a>()
<a name="l00161"></a>00161   {
<a name="l00162"></a>00162     
<a name="l00163"></a>00163   }
<a name="l00164"></a>00164       
<a name="l00171"></a><a class="code" href="structvegra_1_1SVG.html#a90d8788e7776685d3da401ce8a9a8596">00171</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structvegra_1_1SVG.html#a90d8788e7776685d3da401ce8a9a8596">close</a>()
<a name="l00172"></a>00172   {
<a name="l00173"></a>00173     <span class="keywordflow">if</span> (<a class="code" href="structvegra_1_1SVG.html#a185b8b4ad59002b8fc921a288f69f9d9">checkIfSVGExists</a>())
<a name="l00174"></a>00174       <a class="code" href="structvegra_1_1SVG.html#a02f78ba059b1ce0e659ee368fb6a782a">createNewTitle</a>();
<a name="l00175"></a>00175     <a class="code" href="structvegra_1_1SVG.html#a739917fb674392c8a92ce56c609daf9c">saveSVG</a>();
<a name="l00176"></a>00176   }
<a name="l00177"></a>00177   
<a name="l00182"></a><a class="code" href="structvegra_1_1SVG.html#a6096892ee39e3680fddd6657a98b7a75">00182</a>   <span class="keyword">inline</span> SVGElementList <a class="code" href="structvegra_1_1SVG.html#a6096892ee39e3680fddd6657a98b7a75">getElements</a>()
<a name="l00183"></a>00183   {
<a name="l00184"></a>00184     <span class="keywordflow">return</span> _elements;  
<a name="l00185"></a>00185   }
<a name="l00186"></a>00186   
<a name="l00192"></a><a class="code" href="structvegra_1_1SVG.html#a6d7a82c399cdf3ea7e078b66a8bbf024">00192</a>   <span class="keyword">inline</span> <a class="code" href="structvegra_1_1Position.html">vegra::Position</a> <a class="code" href="structvegra_1_1SVG.html#a6d7a82c399cdf3ea7e078b66a8bbf024">getPos</a>()
<a name="l00193"></a>00193   {
<a name="l00194"></a>00194     <span class="keywordflow">return</span> _pos;
<a name="l00195"></a>00195   }
<a name="l00196"></a>00196 
<a name="l00202"></a><a class="code" href="structvegra_1_1SVG.html#ad1b80e84f2eeccbbf7c039812f6c35fa">00202</a>   <span class="keyword">inline</span> <a class="code" href="structvegra_1_1Size.html">vegra::Size</a> <a class="code" href="structvegra_1_1SVG.html#ad1b80e84f2eeccbbf7c039812f6c35fa">getSize</a>()
<a name="l00203"></a>00203   {
<a name="l00204"></a>00204     <span class="keywordflow">return</span> _size;  
<a name="l00205"></a>00205   }
<a name="l00206"></a>00206   
<a name="l00212"></a><a class="code" href="structvegra_1_1SVG.html#aec9681b5ca49e9cdd48297677b18151b">00212</a>   <span class="keyword">inline</span> std::string <a class="code" href="structvegra_1_1SVG.html#aec9681b5ca49e9cdd48297677b18151b">getElement</a>()<span class="keyword"> override</span>
<a name="l00213"></a>00213 <span class="keyword">  </span>{
<a name="l00214"></a>00214     <span class="keywordflow">return</span> _element; 
<a name="l00215"></a>00215   }
<a name="l00216"></a>00216 
<a name="l00221"></a><a class="code" href="structvegra_1_1SVG.html#a6468964d098acbdd91da3cac55e6f6b8">00221</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structvegra_1_1SVG.html#a6468964d098acbdd91da3cac55e6f6b8">setPos</a>(<a class="code" href="structvegra_1_1Position.html">vegra::Position</a> pos)
<a name="l00222"></a>00222   {
<a name="l00223"></a>00223     _pos = pos;
<a name="l00224"></a>00224   }
<a name="l00225"></a>00225 
<a name="l00230"></a><a class="code" href="structvegra_1_1SVG.html#ad80b2990559293806eeb8223bb7a8dc4">00230</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structvegra_1_1SVG.html#ad80b2990559293806eeb8223bb7a8dc4">setSize</a>(<a class="code" href="structvegra_1_1Size.html">vegra::Size</a> size)
<a name="l00231"></a>00231   {
<a name="l00232"></a>00232     _size = size;
<a name="l00233"></a>00233   }
<a name="l00234"></a>00234 
<a name="l00235"></a>00235  <span class="keyword">protected</span>:
<a name="l00236"></a>00236  <span class="keyword">private</span>:
<a name="l00237"></a>00237   std::string _title;
<a name="l00238"></a>00238   std::string _fname;
<a name="l00239"></a>00239   <a class="code" href="structvegra_1_1Position.html">vegra::Position</a> _pos;
<a name="l00240"></a>00240   <a class="code" href="structvegra_1_1Size.html">vegra::Size</a> _size;
<a name="l00241"></a>00241   std::string _tagname;
<a name="l00242"></a>00242   std::string _element;
<a name="l00243"></a>00243   SVGElementList _elements;
<a name="l00244"></a>00244 };
<a name="l00245"></a>00245  
<a name="l00246"></a>00246 }
<a name="l00247"></a>00247 
<a name="l00248"></a>00248 <span class="preprocessor">#endif // __VEGRA_H__</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 20 Jun 2018 for vegra by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
